{% extends "base.html" %}

{% block title %}{{ profile.full_name }} - CampusDate{% endblock %}

{% block content %}
<div class="profile-view-container"
    style="display: flex; justify-content: center; align-items: flex-start; gap: 30px; flex-wrap: wrap;">

    <!-- 3D Profile Card -->
    <div class="profile-card-3d" style="width: 350px; perspective: 1000px;">
        <div class="glass-card"
            style="padding: 0; overflow: hidden; transform-style: preserve-3d; transition: transform 0.5s;">
            <div class="profile-image" style="height: 400px; overflow: hidden; position: relative;">
                {% if profile.profile_picture %}
                <img src="{{ url_for('static', filename='uploads/' + profile.profile_picture) }}"
                    alt="{{ profile.full_name }}" style="width: 100%; height: 100%; object-fit: cover;">
                {% else %}
                <div
                    style="width: 100%; height: 100%; background: var(--secondary-color); display: flex; align-items: center; justify-content: center; font-size: 5rem; color: white;">
                    {{ profile.full_name[0] }}
                </div>
                {% endif %}
                <div
                    style="position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); padding: 20px; box-sizing: border-box;">
                    <h2 style="color: white; margin: 0;">{{ profile.full_name }}, {{ profile.age }}</h2>
                    <p style="color: #ddd; margin: 5px 0;">{{ profile.college }}</p>
                </div>
            </div>
            <div class="card-content" style="padding: 20px;">
                <p><strong>Department:</strong> {{ profile.department }}</p>
                <p><strong>Year:</strong> {{ profile.year }}</p>
                <div class="interests-tags" style="margin-top: 15px;">
                    {% for interest in profile.interests %}
                    <span
                        style="background: rgba(255, 68, 88, 0.2); padding: 5px 10px; border-radius: 15px; font-size: 0.9rem; margin-right: 5px; display: inline-block; margin-bottom: 5px;">{{
                        interest }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Details / Actions -->
    <div class="profile-details glass-card" style="flex: 1; min-width: 300px;">
        <h3>About Me</h3>
        <p style="margin-bottom: 20px; line-height: 1.6;">{{ profile.bio or "No bio yet." }}</p>

        <h3>Looking For</h3>
        <p style="margin-bottom: 20px;">{{ profile.looking_for }}</p>

        {% if is_own %}
        <a href="{{ url_for('profile.edit') }}" class="btn-primary"
            style="display: inline-block; text-align: center; width: auto; padding: 10px 30px;">Edit Profile</a>
        {% else %}
        <div class="actions" style="display: flex; gap: 15px;">
            <button class="btn-primary">Connect</button>
            <button class="btn-primary" style="background: var(--glass-bg); border: 1px solid white;">Message</button>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}